!function(){"use strict";const t=document.querySelectorAll(".list__item[data-has-children]");document.querySelectorAll(".list__item[data-has-children] > .list");const e=document.getElementById("header__popup"),r=document.querySelector(".header__button_open"),o=document.querySelector(".modal__button_close"),n=document.querySelectorAll(".links-scroll_js"),c=document.querySelectorAll(".links-modal-scroll_js"),i=document.querySelector(".modal-window__button");function l(){e.close(),document.body.classList.remove("scroll-lock")}function s(t){t.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault();const r=t.getAttribute("href");l(),document.querySelector(""+r).scrollIntoView({block:"start"})}))}const a=/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/,u=/^[А-Я]{1}[а-я]*(\s[А-Я]{1}[а-я]*)?(\s[А-Я]{1}[а-я]*)?$/,d=document.querySelector(".form__person"),m=Array.from(d.querySelectorAll(".form__input")),f=d.querySelector(".form__input-checkbox-js"),v=d.querySelector(".form__btn"),_=d.querySelector(".form__empty-error");function b(t,e){e.test(t.value)?t.setCustomValidity(""):t.setCustomValidity("Некорретно введены данные!")}function y(t){t.validity.valid?A(t):A(t,t.validationMessage)}function p(){h()?(v.classList.add("button-inactive"),v.setAttribute("aria-disabled","true")):(v.classList.remove("button-inactive"),v.setAttribute("aria-disabled","false"),_.textContent="")}function h(){return m.some((t=>!t.validity.valid||!f.validity.valid))}function A(t,e){const r=document.querySelector(`#${t.id}-error`);e?(t.classList.add("form__type-input-error"),r.textContent=e,r.classList.add("form__error-active")):(t.classList.remove("form__type-input-error"),r.textContent="",r.classList.remove("form__error-active"))}t.forEach((t=>{!function(t){const e=t.querySelector(":scope > .list");e.setAttribute("hidden",""),t.addEventListener("click",(function(r){!function(t,e){"true"===t.getAttribute("aria-expanded")?(t.setAttribute("aria-expanded","false"),e.setAttribute("hidden","")):(t.setAttribute("aria-expanded","true"),e.removeAttribute("hidden"))}(t,e)}))}(t)})),e.addEventListener("click",(function({currentTarget:t,target:e}){e===t&&t.close()})),r.addEventListener("click",(function(t){e.showModal(),document.body.classList.add("scroll-lock")})),o.addEventListener("click",(t=>{t.stopPropagation(),l()})),n.forEach((t=>{var e;(e=t).addEventListener("click",(function(t){t.preventDefault();const r=e.getAttribute("href");document.querySelector(""+r).scrollIntoView({block:"start"})}))})),c.forEach((t=>{s(t)})),s(i),document.querySelectorAll('.button[href="#"]').forEach((t=>{t.addEventListener("click",(function(e){e.preventDefault();const r=t.getAttribute("href");document.querySelector(""+r).scrollIntoView({block:"start"})}))})),p(),d.addEventListener("submit",(t=>{t.preventDefault(),h()?(_.textContent="Заполните все поля для отправки.",m.forEach((t=>{"name"==t.getAttribute("name")?b(t,u):b(t,a),y(t)})),y(f)):v.textContent="успешно отправлено!"})),m.forEach((t=>{t.addEventListener("input",(()=>{"name"==t.getAttribute("name")?b(t,u):b(t,a),p()})),t.addEventListener("blur",(()=>{y(t)})),t.addEventListener("focus",(()=>{A(t)}))})),f.addEventListener("change",(()=>{y(f),p()}))}();